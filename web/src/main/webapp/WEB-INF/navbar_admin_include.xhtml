<!DOCTYPE html [
    <!ENTITY nbsp "&#160;"> 
]>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jstl/core">
    
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">Toggle navigation</span>
	        	<span class="icon-bar"></span>
	        	<span class="icon-bar"></span>
	      		<span class="icon-bar"></span>
	      	</button>
	   	</div>
	   	<div id="navbar" class="navbar-collapse collapse">
			<ul class="nav navbar-nav">
				<li class="#{view.viewId eq '/admin/tela_inicial.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/tela_inicial.xhtml"><span class="glyphicon glyphicon-home"/>Home</a></li>
			</ul>
			<c:if test="#{seguranca.perfilUsuarioLogado eq 'ADMINISTRADOR'}">
				<ul class="nav navbar-nav">
					<li class="#{view.viewId eq '/admin/configuracao.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/configuracoes.xhtml"><span class="glyphicon glyphicon-wrench"></span>Configurações</a></li>
				</ul>
			</c:if>
			<ul class="nav navbar-nav">
				
				<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_USUARIO') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_USUARIO') eq true}">
				
					<li class="dropdown #{view.viewId eq '/admin/usuario.xhtml' or view.viewId eq '/admin/consultaUsuario.xhtml'? 'active' : ''}">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="glyphicon glyphicon-user"/>Usuários<span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_USUARIO') eq true}">
								<li class="dropdown #{view.viewId eq '/admin/usuario.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/usuario.xhtml">Cadastrar</a></li>
							</c:if>
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CONS_USUARIO') eq true}">
								<li class="dropdown #{view.viewId eq '/admin/consultaUsuario.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/consultaUsuario.xhtml">Consultar</a></li>
							</c:if>
			            </ul>
		            </li>
		            
	            </c:if>
            </ul>
            <c:if test="#{seguranca.perfilUsuarioLogado eq 'ADMINISTRADOR' or seguranca.getPermissaoUsuarioLogado('ROLE_EDT_PERMISSOES') eq true}">
	            <ul class="nav navbar-nav">
					<li class="#{view.viewId eq '/admin/permissoes.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/permissoes.xhtml"><span class="glyphicon glyphicon-list-alt"></span>Permissões</a></li>
				</ul>
			</c:if>
			<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_ATIVIDADE') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_ATIVIDADE')}">
				<ul class="nav navbar-nav">
					<li class="dropdown #{view.viewId eq '/admin/agendar_atividade.xhtml'? 'active' : ''}">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="glyphicon glyphicon-book"/>Atividade<span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_ATIVIDADE') eq true}">
								<li class="dropdown #{view.viewId eq '/admin/agendar_atividade.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/agendar_atividade.xhtml">Agendar</a></li>
							</c:if>
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CONS_ATIVIDADE') eq true}">
								<li class="dropdown #{view.viewId eq '/admin/consultarAtividade.xhtml' ? 'active' : ''}">
									<li class="#{view.viewId eq '/admin/consultarAtividade.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/consultarAtividade.xhtml">Consultar</a></li>
								</li>
							</c:if>
						</ul>
					</li>
				</ul>
			</c:if>
			<c:if test="#{seguranca.perfilUsuarioLogado eq 'ADMINISTRADOR' or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_AUDITORIA') eq true}">
				<ul class="nav navbar-nav">
					<li class="#{view.viewId eq '/admin/auditoria.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/auditoria.xhtml"><span class="glyphicon glyphicon-eye-open"/>Auditoria</a></li>
				</ul>
			</c:if>
			<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_CLIENTE') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_CLIENTE') eq true}">
				<ul class="nav navbar-nav">
					<li class="dropdown #{view.viewId eq '/admin/cliente.xhtml' or view.viewId eq '/admin/consultaCliente.xhtml'? 'active' : ''}">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="glyphicon glyphicon-user"/>Cliente<span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_CLIENTE') eq true}">
								<li class="#{view.viewId eq '/admin/cliente.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/cliente.xhtml">Cadastrar</a></li>
							</c:if>
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CONS_CLIENTE') eq true}">
								<li class="#{view.viewId eq '/admin/consultaCliente.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/consultaCliente.xhtml">Consultar</a></li>
							</c:if>
						</ul>
					</li>
				</ul>
			</c:if>
			<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_FORNECEDOR') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_FORNECEDOR') eq true}">
				<ul class="nav navbar-nav">
					<li class="dropdown #{view.viewId eq '/admin/fornecedor.xhtml' or view.viewId eq '/admin/consultaFornecedor.xhtml'? 'active' : ''}">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="glyphicon glyphicon-user"/>Fornecedor<span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_FORNECEDOR') eq true}">
								<li class="#{view.viewId eq '/admin/fornecedor.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/fornecedor.xhtml">Cadastrar</a></li>
							</c:if>
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CONS_FORNECEDOR') eq true}">
								<li class="#{view.viewId eq '/admin/consultaFornecedor.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/consultaFornecedor.xhtml">Consultar</a></li>
							</c:if>
						</ul>
					</li>
				</ul>
			</c:if>
			
			<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_CONTRATO') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_CONTRATO') eq true}">
				<ul class="nav navbar-nav">
					<li class="dropdown #{view.viewId eq '/admin/contrato.xhtml' or view.viewId eq '/admin/consultaContrato.xhtml'? 'active' : ''}">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="glyphicon glyphicon-tag"/>Contrato<span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_CONTRATO') eq true}">
								<li class="#{view.viewId eq '/admin/contrato.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/contrato.xhtml">Cadastrar</a></li>
							</c:if>
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CONS_CONTRATO') eq true}">
								<li class="#{view.viewId eq '/admin/consultaContrato.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/consultaContrato.xhtml">Consultar</a></li>
							</c:if>
						</ul>
					</li>
				</ul>
			</c:if>
			
			<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_PRODUTO') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_PRODUTO') eq true}">
				<ul class="nav navbar-nav">
					<li class="dropdown #{view.viewId eq '/admin/produto.xhtml' or view.viewId eq '/admin/consultaProduto.xhtml'? 'active' : ''}">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="glyphicon glyphicon-gift"/>Produto<span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_PRODUTO') eq true}">
								<li class="#{view.viewId eq '/admin/produto.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/produto.xhtml">Cadastrar</a></li>
							</c:if>
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CONS_PRODUTO') eq true}">
								<li class="#{view.viewId eq '/admin/consultaProduto.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/consultaProduto.xhtml">Consultar</a></li>
							</c:if>
						</ul>
					</li>
				</ul>
			</c:if>
			
			<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_MAQUINA') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_MAQUINA') eq true or
				seguranca.getPermissaoUsuarioLogado('ROLE_CAD_ALOCACAO') eq true}">
				<ul class="nav navbar-nav">
					<li class="dropdown #{view.viewId eq '/admin/maquina.xhtml' or view.viewId eq '/admin/consultaMaquina.xhtml'? 'active' : ''}">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="glyphicon glyphicon-modal-window"/>Máquina<span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_MAQUINA') eq true}">
								<li class="#{view.viewId eq '/admin/maquina.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/maquina.xhtml">Cadastrar</a></li>
							</c:if>
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CONS_MAQUINA') eq true}">
								<li class="#{view.viewId eq '/admin/consultaMaquina.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/consultaMaquina.xhtml">Consultar</a></li>
							</c:if>
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_ALOCACAO') eq true}">
								<li class="#{view.viewId eq '/admin/alocacao.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/alocacao.xhtml?clienteId=0">Solicitar alocação</a></li>
							</c:if>
						</ul>
					</li>
				</ul>
			</c:if>
			
			<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_NATUREZA') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_NATUREZA') eq true
				or seguranca.getPermissaoUsuarioLogado('ROLE_CAD_RECEITA') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_RECEITA') eq true
				or seguranca.getPermissaoUsuarioLogado('ROLE_CAD_DESPESA') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_DESPESA') eq true}">
				<ul class="nav navbar-nav">
					<li class="dropdown #{view.viewId eq '/admin/natureza_financeira.xhtml' or view.viewId eq '/admin/consultaNaturezaFinanceira.xhtml'? 'active' : ''}">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="glyphicon glyphicon-usd"/>Financeiro<span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_RECEITA') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_RECEITA') eq true}">
								<li class="dropdown-header">Receita</li>
								<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_RECEITA') eq true}">
									<li class="#{view.viewId eq '/admin/receita.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/receita.xhtml">Cadastrar</a></li>
								</c:if>
								<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CONS_RECEITA') eq true}">
									<li class="#{view.viewId eq '/admin/consultaReceita.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/consultaReceita.xhtml">Consultar</a></li>
								</c:if>
								<li role="separator" class="divider"></li>
							</c:if>
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_DESPESA') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_DESPESA') eq true}">
								<li class="dropdown-header">Despesa</li>
								<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_DESPESA') eq true}">
									<li class="#{view.viewId eq '/admin/despesa.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/despesa.xhtml">Cadastrar</a></li>
								</c:if>
								<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CONS_DESPESA') eq true}">
									<li class="#{view.viewId eq '/admin/consultaDespesa.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/consultaDespesa.xhtml">Consultar</a></li>
								</c:if>
								<li role="separator" class="divider"></li>
							</c:if>
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_NATUREZA') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_NATUREZA') eq true}">
								<li class="dropdown-header">Natureza financeira</li>
								<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_NATUREZA') eq true}">
									<li class="#{view.viewId eq '/admin/natureza_financeira.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/natureza_financeira.xhtml">Cadastrar</a></li>
								</c:if>
								<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CONS_NATUREZA') eq true}">
									<li class="#{view.viewId eq '/admin/consultaNaturezaFinanceira.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/consultaNaturezaFinanceira.xhtml">Consultar</a></li>
								</c:if>
								<li role="separator" class="divider"></li>
							</c:if>
						</ul>
					</li>
				</ul>
			</c:if>
			
			<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_MANUTENCAO') eq true or seguranca.getPermissaoUsuarioLogado('ROLE_CONS_MANUTENCAO') eq true}">
				<ul class="nav navbar-nav">
					<li class="dropdown #{view.viewId eq '/admin/manutencao.xhtml' or view.viewId eq '/admin/consultaManutencao.xhtml'? 'active' : ''}">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="glyphicon glyphicon-wrench"/>Manutenção<span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CAD_MANUTENCAO') eq true}">
								<li class="#{view.viewId eq '/admin/manutencao.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/manutencao.xhtml">Cadastrar</a></li>
							</c:if>
							<c:if test="#{seguranca.getPermissaoUsuarioLogado('ROLE_CONS_MANUTENCAO') eq true}">
								<li class="#{view.viewId eq '/admin/consultaManutencao.xhtml' ? 'active' : ''}"><a href="#{request.contextPath}/admin/consultaManutencao.xhtml">Consultar</a></li>
							</c:if>
						</ul>
					</li>
				</ul>
			</c:if>

			<ul class="nav navbar-nav navbar-right">
				<li class="dropdown">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown">
						<span class="glyphicon glyphicon-user"></span>
						Account<b class="caret"></b>
	                </a>
	                <ul class="dropdown-menu" style="padding: 0px;">
						<li>
							<div class="navbar-content">
								<div class="row">
									<div class="col-md-5">
										<img src="#{resource['img/120x120.png']}" alt="Alternate Text" class="img-responsive" />
										<p class="text-center small"><a href="#">Alterar foto</a></p>
									</div>
									<h:form>
										<div class="col-md-7">
											<span>#{seguranca.nomeUsuarioLogado}</span>
											<p class="text-muted small">#{seguranca.emailUsuarioLogado}</p>
											<div class="divider"></div>
											<a href="#{request.contextPath}/admin/editar_cadastro_pessoal.xhtml" class="btn btn-primary" style="width:100%;">Ver Perfil</a>
										</div>
									</h:form>
								</div>
							</div>
							<div class="navbar-footer">
								<div class="navbar-footer-content">
									<div class="row">
										<div class="col-md-6">
											<a href="#{request.contextPath}/admin/alterar_senha.xhtml" class="btn btn-default" style="width:100%;">&nbsp;Alterar senha&nbsp;</a>
										</div>
										<h:form>
											<div class="col-md-6">
												<h:commandLink id="btn-logout" actionListener="#{loginMB.efetuarLogout()}" class="btn btn-default pull-right" style="width: 100%;" type="button" immediate="true">
													<i class="glyphicon glyphicon-off"></i>&nbsp;Sair&nbsp;
												</h:commandLink>
											</div>
										</h:form>
									</div>
								</div>
							</div>
						</li>
					</ul>
				</li>
			</ul>
		</div>
	</div>
</nav>
</ui:composition>